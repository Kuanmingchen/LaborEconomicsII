\documentclass[12pt]{article}
\input{prefix.tex}%
\input{symbols.tex}

\title{
    Labor Economics Homework 1 \\
    \large Due: \\
    }

\author{}

\date{}

\begin{document}
\setstretch{1.2}

\maketitle
\vspace{-2cm}

\section{Julia and VSCode}
\begin{enumerate}
    \item Go to \url{https://julialang.org/downloads/} and download the latest stable version of Julia. 
    \item Go to \url{https://code.visualstudio.com/download} and download Visual Studio Code.
    \item Go to the extensions tab in VSCode and install the Julia extension.
\end{enumerate}
Now you should be able to run Julia code in VSCode. To install 
packages, you can open the terminal and type \texttt{julia}; then 
type \texttt{]add PackageName} to install the package 
\texttt{PackageName}. For more details, see 
\url{https://julia.quantecon.org/intro.html}.

\section{Methodology}
Suppose that you are a restaurant owner and you are considering 
increasing the price. You know that the customers' preference 
can be represented by 
\begin{equation*}
    u_i(x, y) = \frac{\epsilon_i}{1-\epsilon_i}\log (x) + \log (y), 
\end{equation*}
where $x$ is the restaurant's food and $y$ represents the other 
goods. $\epsilon_i\overset{iid}{\sim}Beta(\alpha, \beta)$ is an 
unobserved term, and you do not observe $\alpha$ and $\beta$ 
either. Each customer $i$ faces the budget constraint
\begin{equation*}
    p x + y \leq w_i,
\end{equation*}
where the price of the other foods is normalized to 1. To 
simplify the problem, assume that $w_i = 1$ for all $i$.
\begin{enumerate}
    \item Solve for the demand of $x_i$.
    \item After surveying the customers, you obtain the data 
    $\set{x_i}_{i=1}^N$. Write down the maximum likelihood estimator 
    of $\alpha$ and $\beta$.
    \item Suppose that you have estimated $\alpha$ and $\beta$. 
    How much, on average, would the demand of $x_i$ be if you 
    set the price to $p'$?
\end{enumerate}

%\begin{comment}
\begin{sol}[2.1]
    The F.O.C.\ is 
    \begin{equation*}
        \left\{
        \begin{aligned}
            \frac{\epsilon_i}{1-\epsilon_i}\frac{1}{x_i} &= \lambda p, \\
            \frac{1}{y_i} &= \lambda, \\
            p x_i + y_i &= 1.
        \end{aligned}
        \right .
    \end{equation*}
    Solving the system of equations yields 
    \begin{equation*}
        x_i = \frac{\epsilon_i}{p}.
    \end{equation*}
    This is the demand for the customer $i$.
    \solend
\end{sol}
%\end{comment}

%\begin{comment}
\begin{sol}[2.2]
    Let $f(\cdot;\alpha, \beta)$ be the density of $Beta(\alpha, \beta)$. 
    The likelihood function is 
    \begin{equation*}
        L(\alpha, \beta) = \prod_{i=1}^N f(\epsilon_i;\alpha, \beta) = \prod_{i=1}^{N} f(p x_i;\alpha, \beta).
    \end{equation*}
    The maximum likelihood estimator is 
    \begin{equation*}
        (\hat{\alpha}, \hat{\beta}) = \argmax_{\alpha, \beta} L(\alpha, \beta).
    \end{equation*}
\end{sol}
%\end{comment}

%\begin{comment}
\begin{sol}[2.3]
    On average, the demand of $x_i$ would be
    \begin{equation*}
        \Ex{x_i} = \Ex{\frac{\epsilon_i}{p'}} = \frac{1}{p'}\frac{\alpha}{\alpha + \beta}.
    \end{equation*}
    \solend
\end{sol}
%\end{comment}



\section{Robinson Crusoe's Coconuts}
Robinson Crusoe finds $z_0$ units of coconut on the beach in 
the morning of day $0$. Each day, he can either consume the 
coconuts or leave them for the next day. If he consumes $c_t$ 
coconuts on day $t$, he will have $z_{t+1} = z_t - c_t$. In 
each day, the utility of consuming $c_t$ coconuts is $u(c_t) = 
\sqrt{c_t}$. Furthermore, the coconuts will rot at the end of 
day $T$. Given the time discount factor $\beta\in(0,1)$, 
Crusoe's prblem is thus formulated as follows: 
\begin{equation*}
    \max_{\{c_t\}_{t=0}^T} \sum_{t=0}^T \beta^t u(c_t) 
    \quad \text{s.t.} \quad z_{t+1} = z_t - c_t. 
\end{equation*}
\begin{enumerate}
    \item Write down the value function $v(z, t)$ and the 
    Bellman equation. 
    \item Write down the first-order condition of the problem. 
    \item Solve the optimal consumption $c^*_0$ corresponding 
    to $z_0$ analytically. 
    \item Now instead of the coconuts, Crusoe finds $z_0$ units 
    of canned food. Since the canned food will not rot, the 
    problem is formulated as 
    \begin{equation*}
        \max_{\{c_t\}_{t=0}^\infty} \sum_{t=0}^\infty \beta^t u(c_t) 
        \quad \text{s.t.} \quad z_{t+1} = z_t - c_t.
    \end{equation*}
    Write down the value function and the Bellman equation. 
    Solve the optimal consumption $c^*_0$ corresponding to 
    $z_0$ analytically.
\end{enumerate}

%\begin{comment}
\begin{sol}[3.1]
    The value function is 
    \begin{equation*}
        v(z, t) = \max_{\set{c_s}_{s=t}^T} \sum_{s=t}^T \beta^s u(c_s) 
    \end{equation*}
    with $z = \sum_{s=t}^{T}c_s$. The Bellman equation is 
    \begin{equation*}
        v(z, t) = \max_{c_{t}} \brc{u(c_t) + \beta v(z-c_t, t+1)}.
    \end{equation*}
    \solend
\end{sol}
%\end{comment}

%\begin{comment}
\begin{sol}[3.2]
    The F.O.C. is 
    \begin{equation*}
        u'(c_t) = \beta u'(c_{t+1})\quad \forany t = 0,1,\ldots,T-1.
    \end{equation*}
    Since $u(c_t) = \sqrt{c_t}$, the F.O.C. becomes 
    \begin{equation*}
        \frac{1}{2\sqrt{c_t}} = \beta \frac{1}{2\sqrt{c_{t+1}}}.
    \end{equation*}
    \solend
\end{sol}
%\end{comment}

%\begin{comment}
\begin{sol}[3.3]
    Rearranging the F.O.C.\ yields 
    \begin{equation*}
        c_{t+1} = \beta^2 c_t.
    \end{equation*}
    Combining this with the budget constraint $z_0 = 
    \sum_{s=0}^{T}c_s$, we have 
    \begin{equation*}
        z_0 = c_0 + \beta^2 c_0 + \cdots + \beta^{2T}c_0 
        = c_0 \sum_{s=0}^{T} \beta^{2s} = c_0 \frac{1-\beta^{2(T+1)}}{1-\beta^2}.
    \end{equation*}
    Thus 
    \begin{equation*}
        c^*_0 = \frac{z_0(1-\beta^2)}{1-\beta^{2(T+1)}}.
    \end{equation*}
    \solend
\end{sol}
%\end{comment}

%\begin{comment}
\begin{sol}[3.4]
    Taking the limit as $T\to\infty$, the value function is 
    \begin{equation*}
        v(z) = \max_{\set{c_s}_{s=t}^\infty} \sum_{s=t}^\infty \beta^s u(c_s). 
    \end{equation*}
    Observe that the value function doe not depend on $t$ since 
    today's problem is the same as tomorrow's. \\
    The Bellman equation becomes
    \begin{equation*}
        v(z) = \max_{c} \brc{u(c) + \beta v(z-c)}.
    \end{equation*}
    The F.O.C. is the same as \textit{3.3}. Thus the optimal 
    consumption is 
    \begin{equation*}
        c^*_0 = z_0(1-\beta^2)
    \end{equation*}
    by taking $T\to\infty$.
    \solend
\end{sol}
%\end{comment}

\section{McCall's Job Search Model}
A worker is finding a job. In each period, the worker receives 
a job offer with wage $w_t$. The wage is i.i.d. across periods 
in $Beta(\alpha,\beta)$. The worker can either 
accept the offer ($s_t=1$) and work at the wage $w_t$ forever 
or reject it ($s_t=0$) and receives $\underbar{c}$ as the 
unemployment benefit. Once the worker accepts an offer, he 
cannot search for another job or quit. Assume that the worker 
cannot borrow or save; thus $u(c_t)=w_t$. 
With the discount factor $\rho\in(0,1)$, the worker's problem 
is 
\begin{equation*}
    \max_{\{s_t\}_{t=0}^\infty} \E_0\sbrc{\sum_{t=0}^\infty \rho^t(w_ts_t+(1-s_t)\underbar{c})}\quad \text{s.t. $\Set{s_t}{s_t\in\set{0,1}}$ is a non-decreasing sequence}.
\end{equation*}
\begin{enumerate}
    \item Write down the Bellman equation.
    \item Define the Bellman operator and verify that it is a 
    contraction mapping on the space of bounded continuous functions 
    defined on $[0,1]$ with the supremum norm.\\
    (Hint: $\abs{\max\brc{a,b}-\max\brc{a,c}}\leq\abs{b-c}$ for real $a,b,c$.)
    \item Given $\rho = 0.95$, $\underbar{c} = 0.1$, $\alpha = 2$, 
    and $\beta = 5$, solve the model numerically.\\
    (Hint: You may use the linear interpolation and monte carlo simulation to 
    approximate the expectation of $v$.)
    \item Plot the value function and the optimal policy function as functions 
    of $w$. What is the reservation wage? 
    \item Simulate the model for 1000 homogeneous agents. Plot the distribution 
    of the time to find a job. 
    \item Plot the reservation wage as a function of $\underbar{c} = 0.1, 0.2, 0.3,
    0.4, 0.5, 0.6$ and repeat the simulation in problem 5 for different values of 
    $\underbar{c}$. Explain your results.
\end{enumerate}

%\begin{comment}
\begin{sol}[4.1]
    The Bellman equation is
    \vspace{-1em}
    \begin{equation*}
        v(w) = \max \brc{\frac{w}{1-\rho}, \underbar{c} + \rho \int v(w') F(dw')},
    \end{equation*}
    where $F$ is the CDF of $Beta(\alpha,\beta)$.
    \solend
\end{sol}
%\end{comment}

%\begin{comment}
\begin{sol}[4.2]
    The Bellman operator is 
    \vspace{-1em}
    \begin{equation*}
        (Tv)(w) = \max \brc{\frac{w}{1-\rho}, \underbar{c} + \rho \int v(w') F(dw')}.
    \end{equation*}
    Now let $v_1$ and $v_2$ be two bounded continuous functions on $[0,1]$ and 
    $\norm{\cdot}$ denote the supremum norm. Then
    \vspace{-1em}
    \begin{equation*}
        \begin{aligned}
            \norm{Tv_1 - Tv_2} &= \sup_{w\in[0,1]}\Bigg\lvert\max\brc{\frac{w}{1-\rho}, \underbar{c} + \rho \int v_1(w') F(dw')}\\ 
            &\qquad- \max\brc{\frac{w}{1-\rho}, \underbar{c} + \rho \int v_2(w') F(dw')}\Bigg\rvert \\
            &\leq \sup_{w\in[0,1]}\abs{\rho \int v_1(w') F(dw') - \rho \int v_2(w') F(dw')}\\ 
            &\leq \rho \int \sup_{w\in[0,1]}\abs{v_1(w') - v_2(w')} F(dw')\\
            &= \rho \int \norm{v_1 - v_2} F(dw') = \rho \norm{v_1 - v_2}.
        \end{aligned}
    \end{equation*}
    Thus $T$ is a contraction mapping. 
    \solend
\end{sol}
%\end{comment}

%\begin{comment}
\begin{sol}[Alternative Approach for 4.2]
    One may observe that there exists a ``reservation wage'', $\Bar{w}$, 
    where the worker is indifferent between accepting and rejecting the 
    offer. That is,
    \begin{equation*}
        \frac{\Bar{w}}{1-\rho} = \underbar{c} + \rho \int v(w') F(dw').
    \end{equation*} 
    By the Bellman equation, substituting $v(w')$ yields
    \begin{equation*}
        \frac{\Bar{w}}{1-\rho} = \underbar{c} + \rho \int \max\brc{\frac{w'}{1-\rho}, \frac{\Bar{w}}{1-\rho}} F(dw'), 
    \end{equation*}
    which is equivalent to 
    \begin{equation*}
        \Bar{w} = (1-\rho)\underbar{c} + \rho \int \max\brc{w', \Bar{w}} F(dw').
    \end{equation*}
    Define the new operator $U$ defined on $[0,1]$ as 
    \begin{equation*}
        U\Bar{w} = (1-\rho)\underbar{c} + \rho \int \max\brc{w', \Bar{w}} F(dw').
    \end{equation*}
    We claim that $U$ is a contraction mapping. \\
    Let $\Bar{w}_1, \Bar{w}_2\in[0,1]$. Then 
    \begin{equation*}
        \begin{aligned}
            \abs{U\Bar{w}_1 - U\Bar{w}_2} 
            &= \abs{\rho \int \max\brc{w', \Bar{w}_1} F(dw') - \rho \int \max\brc{w', \Bar{w}_2} F(dw')}\\
            &= \rho\abs{\int \max\brc{w', \Bar{w}_1}-\max\brc{w', \Bar{w}_2} F(dw')}\\
            &\leq \rho \int\abs{\max\brc{w', \Bar{w}_1}-\max\brc{w', \Bar{w}_2}} F(dw')\\
            &\leq \rho \int\abs{\Bar{w}_1-\Bar{w}_2} F(dw') = \rho \abs{\Bar{w}_1-\Bar{w}_2}\int F(dw') = \rho \abs{\Bar{w}_1-\Bar{w}_2}.
        \end{aligned}
    \end{equation*}
    Thus $U$ is a contraction mapping.\\ 
    Once we obtain the reservation wage, the decision rule becomes 
    obvious: accept the offer if $w\geq\Bar{w}$ and reject it otherwise. 
    We also implement this approach in the Julia code.  
    \solend
\end{sol}
%\end{comment}

%\begin{comment}
\begin{sol}[4.3, 4.4, 4.5, 4.6]
    See the Julia code file.
    \solend 
\end{sol}
%\end{comment}
\end{document}